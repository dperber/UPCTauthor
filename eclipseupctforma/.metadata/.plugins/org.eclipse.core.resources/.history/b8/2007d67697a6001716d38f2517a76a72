// automatically generated by Xtext
grammar org.xtext.Upctforma with org.eclipse.xtext.common.Terminals

import "http://cpcd.upct.es/upctforma" 
import "http://www.eclipse.org/emf/2002/Ecore" as ecore

Definition returns Definition:
	{Definition}
	'Definition'
	name=EString
	'{'
		('templates' '{' templates+=TemplateDef ( "," templates+=TemplateDef)* '}' )?
		('widgets' '{' widgets+=WidgetDef ( "," widgets+=WidgetDef)* '}' )?
		('imports' '{' imports+=Import ( "," imports+=Import)* '}' )?
		('unit' unit=Unit)?
		('types' '{' types+=Type ( "," types+=Type)* '}' )?
	'}';





Type returns Type:
	Type_Impl | SimpleType | DataType;






Element returns Element:
	Element_Impl | Column | Image | Widget | Text | Composite_Impl | Video | Simple_Impl | Parameter | Row;

Argument returns Argument:
	Argument_Impl | Image | Text | Video | Simple_Impl | Tab | Animation | DragAndDrop;

Simple returns Simple:
	Simple_Impl | Image | Text | Video;



EString returns ecore::EString:
	STRING | ID;

TemplateDef returns TemplateDef:
	{TemplateDef}
	'TemplateDef'
	name=EString
	'{'
		('rows' '{' rows+=Row ( "," rows+=Row)* '}' )?
	'}';

WidgetDef returns WidgetDef:
	{WidgetDef}
	'WidgetDef'
	name=EString
	'{'
		('parameters' '{' parameters+=Parameter ( "," parameters+=Parameter)* '}' )?
	'}';

Import returns Import:
	{Import}
	'Import'
	'{'
		('importedNamespace' importedNamespace=EString)?
	'}';

Unit returns Unit:
	'Unit'
	name=EString
	'{'
		'sections' '{' sections+=Section ( "," sections+=Section)* '}' 
	'}';

Type_Impl returns Type:
	{Type}
	'Type'
	name=EString;

Row returns Row:
	{Row}
	'Row'
	'{'
		('columns' '{' columns+=Column ( "," columns+=Column)* '}' )?
		('usetemplate' usetemplate=UseTemplate)?
	'}';

Column returns Column:
	{Column}
	'Column'
	'{'
		('width' width=EString)?
		('elements' '{' elements+=Element ( "," elements+=Element)* '}' )?
	'}';

UseTemplate returns UseTemplate:
	{UseTemplate}
	'UseTemplate'
	'{'
		('typetemplate' typetemplate=[TemplateDef|EString])?
		('arguments' '{' arguments+=Argument ( "," arguments+=Argument)* '}' )?
	'}';

Element_Impl returns Element:
	{Element}
	'Element'
	;

Image returns Image:
	{Image}
	'Image'
	'{'
		('url' url=EString)?
	'}';

Widget returns Widget:
	'Widget'
	'{'
		'typewidget' typewidget=[WidgetDef|EString]
		('arguments' '{' arguments+=Simple ( "," arguments+=Simple)* '}' )?
	'}';

Text returns Text:
	'Text'
	'{'
		'paragraphs' '{' paragraphs+=Paragraph ( "," paragraphs+=Paragraph)* '}' 
	'}';

Composite_Impl returns Composite:
	{Composite}
	'Composite'
	;

Video returns Video:
	{Video}
	'Video'
	'{'
		('url' url=EString)?
	'}';

Simple_Impl returns Simple:
	{Simple}
	'Simple'
	;

Parameter returns Parameter:
	{Parameter}
	'Parameter'
	name=EString
	'{'
		('type' type=[Type|EString])?
	'}';

Paragraph returns Paragraph:
	{Paragraph}
	'Paragraph'
	'{'
		('text' text=EString)?
	'}';

Argument_Impl returns Argument:
	{Argument}
	'Argument'
	;

Tab returns Tab:
	{Tab}
	'Tab'
	'{'
		('argument' '{' argument+=Simple ( "," argument+=Simple)* '}' )?
	'}';

Animation returns Animation:
	{Animation}
	'Animation'
	'{'
		('width' width=EString)?
		('argument' '{' argument+=Simple ( "," argument+=Simple)* '}' )?
	'}';

DragAndDrop returns DragAndDrop:
	{DragAndDrop}
	'DragAndDrop'
	'{'
		('argument' '{' argument+=Simple ( "," argument+=Simple)* '}' )?
	'}';

Section returns Section:
	{Section}
	'Section'
	name=EString
	'{'
		('image' image=EString)?
		('title' title=EString)?
		('rows' '{' rows+=Row ( "," rows+=Row)* '}' )?
	'}';

SimpleType returns SimpleType:
	{SimpleType}
	'SimpleType'
	name=EString
	'{'
		('type' type=TypeSimpleElement)?
	'}';

DataType returns DataType:
	{DataType}
	'DataType'
	name=EString
	'{'
		('type' '{' type+=SimpleType ( "," type+=SimpleType)* '}' )?
	'}';

enum TypeSimpleElement returns TypeSimpleElement:
				Text = 'Text' | Image = 'Image' | Video = 'Video' | Undefined = 'Undefined';
